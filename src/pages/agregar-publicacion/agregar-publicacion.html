<ion-header>

  <ion-navbar color="primary">
    <ion-title>Agregar Publicación</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding class="masters">
  <ion-row>
    <ion-col>
      <ion-card>
        <ion-card-header>
          <ion-card-title>
            Agregar
          </ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <form [formGroup]="formulario" (submit)="cargar()" novalidate>
            <ion-list>
                <ion-item>
                  <ion-label color="primary" stacked>Titulo</ion-label>    
                  <ion-input #titulo formControlName="titulo" [(ngModel)]="publicacion.titulo" type="text"></ion-input>
                </ion-item>
                <ion-item class="error-message" *ngIf="!formulario.controls.titulo.valid">
                    <p>Campo Requerido.</p>
                </ion-item>
                <ion-item>
                  <ion-label color="primary" stacked>Descripción</ion-label>
                  <ion-input #descripcion formControlName="descripcion" [(ngModel)]="publicacion.descripcion" type="text"></ion-input>
                </ion-item>
                <ion-item class="error-message" *ngIf="!formulario.controls.descripcion.valid">
                    <p>Campo Requerido.</p>
                </ion-item>
                <ion-item>
                    <ion-label>Categoria</ion-label>
                    <ion-select #category formControlName="category" [(ngModel)]="publicacion.category">
                      <ion-option *ngFor="let categoria of categorias | async" [value]="categoria.$key">{{ categoria.nombre }}</ion-option>
                    </ion-select>
                </ion-item>
            </ion-list>
            <ion-row>
              <ion-col>
                <button ion-button block>Publicar</button>
              </ion-col>
            </ion-row>
          </form>
        </ion-card-content>
      </ion-card>
    </ion-col>
  </ion-row>
</ion-content>
